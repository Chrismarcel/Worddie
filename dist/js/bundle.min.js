document.querySelector(".search__input").addEventListener("keyup",function(){document.querySelector(".search__btn").classList.add("search__btn-active"),document.querySelector(".search__icon").classList.add("search__icon-active"),(this.value.match(/[^A-z]+/)||0===this.value.trim().length)&&(document.querySelector(".search__btn").classList.remove("search__btn-active"),document.querySelector(".search__icon").classList.remove("search__icon-active"))}),window.onload=function(){window.speechSynthesis.getVoices()},document.querySelector(".pronounce").addEventListener("click",function(){const e=document.querySelector("#word").textContent;Worddie.pronounceWord(e)}),document.querySelector(".search__btn").addEventListener("click",function(){const e=document.querySelector(".search__input").value;Worddie.getDefinition(e)});const deleteWords=document.querySelectorAll(".delete");Array.from(deleteWords).map(e=>{e.addEventListener("click",function(e){const t=this.parentElement;t.classList.add("deleted"),setTimeout(()=>{t.remove()},500)})});class Worddie{static getDefinition(e){fetch(`https://googledictionaryapi.eu-gb.mybluemix.net/?define=${e}&lang=en`).then(e=>e.json()).then(e=>{Worddie.renderDefinitions(e)}).catch(e=>{console.log("Sorry, could not connect to Server",e)})}static pronounceWord(e){const t=window.speechSynthesis,n=t.getVoices();console.log(n);const i=new SpeechSynthesisUtterance(e);if(n.length>0){const e=n.filter(e=>"Google UK English Female"===e.name);return i.voice=e[0],i.volume=1,t.speak(i)}return n}static deleteWord(e){}static renderDefinitions(e){let t=0;const{word:n,phonetic:i,meaning:o}=e;Worddie.appendContent("#word",Worddie.capitalizeWord(n)),Worddie.appendContent("#phonetics",`/${i[0]}/`),Object.keys(o).map(e=>{o[e].map(n=>{t+=1;const{definition:i}=n;Worddie.createDefinitionNode(n),Worddie.appendContent(`.word__definition:nth-of-type(${t}) .list-index`,`${t}.`),Worddie.appendContent(`.word__definition:nth-of-type(${t}) .part-of-speech`,Worddie.capitalizeWord(e)),Worddie.appendContent(`.word__definition:nth-of-type(${t}) .definition`,Worddie.capitalizeWord(i))})})}static capitalizeWord(e){return e[0].toUpperCase()+e.substr(1)}static appendContent(e,t){document.querySelector(e).textContent=t}static createDefinitionNode(e){const t=document.createElement("div"),n=document.createElement("span"),i=document.createElement("span"),o=document.createElement("p"),d=document.createElement("div");if(t.classList.add("word__definition"),n.classList.add("list-index"),i.classList.add("part-of-speech"),o.classList.add("definition"),d.classList.add("sub-section"),e.synonyms){const{titleEl:t,listElements:n}=Worddie.renderLists("Synonyms",e.synonyms);d.appendChild(t),n.map(e=>{d.appendChild(e)})}if(e.example){const{titleEl:t,listElements:n}=Worddie.renderLists("Example",e.example);d.appendChild(t),d.appendChild(n)}t.appendChild(n),t.appendChild(i),t.appendChild(o),t.appendChild(d),document.querySelector(".word__definitions").appendChild(t)}static renderLists(e,t){let n;const i=document.createElement("h4");return i.classList.add("title"),i.textContent=e,Array.isArray(t)?n=t.map(e=>{const t=document.createElement("span");return t.classList.add("definition-list"),t.textContent=Worddie.capitalizeWord(e),t}):((n=document.createElement("span")).classList.add("definition-list"),n.textContent=Worddie.capitalizeWord(t)),{titleEl:i,listElements:n}}}