class Worddie{static getDefinition(e){e=e.trim(),fetch(`https://googledictionaryapi.eu-gb.mybluemix.net/?define=${e}&lang=en`).then(e=>e.json()).then(e=>{Worddie.renderDefinitions(e)}).catch(e=>{console.log("Sorry, could not connect to Server",e)})}static pronounceWord(e){const t=window.speechSynthesis,n=t.getVoices(),o=new SpeechSynthesisUtterance(e);if(n.length>0){const e=n.filter(e=>"Google UK English Female"===e.name);return o.voice=e[0],o.volume=1,t.speak(o)}return n}static deleteWord(e){}static renderDefinitions(e){let t=0;const{word:n,phonetic:o,meaning:i}=e;Worddie.appendContent("#word",Worddie.capitalizeWord(n)),Worddie.appendContent("#phonetics",`/${o[0]}/`),Object.keys(i).map(e=>{i[e].map(n=>{t+=1;const{definition:o}=n;Worddie.createDefinitionNode(n),Worddie.appendContent(`.word__definition:nth-of-type(${t}) .list-index`,`${t}.`),Worddie.appendContent(`.word__definition:nth-of-type(${t}) .part-of-speech`,Worddie.capitalizeWord(e)),Worddie.appendContent(`.word__definition:nth-of-type(${t}) .definition`,Worddie.capitalizeWord(o))})})}static capitalizeWord(e){return e[0].toUpperCase()+e.substr(1)}static appendContent(e,t){document.querySelector(e).textContent=t}static createDefinitionNode(e){const t=document.createElement("div"),n=document.createElement("span"),o=document.createElement("span"),i=document.createElement("p"),d=document.createElement("div");if(t.classList.add("word__definition"),n.classList.add("list-index"),o.classList.add("part-of-speech"),i.classList.add("definition"),d.classList.add("sub-section"),e.synonyms){const{titleEl:t,listElements:n}=Worddie.renderLists("Synonyms",e.synonyms);d.appendChild(t),n.map(e=>{d.appendChild(e)})}if(e.example){const{titleEl:t,listElements:n}=Worddie.renderLists("Example",e.example);d.appendChild(t),d.appendChild(n)}t.appendChild(n),t.appendChild(o),t.appendChild(i),t.appendChild(d),document.querySelector(".word__definitions").append(t)}static renderLists(e,t){let n;const o=document.createElement("h4");return o.classList.add("title"),o.textContent=e,Array.isArray(t)?n=t.map(e=>{const t=document.createElement("span");return t.classList.add("definition-list"),t.textContent=Worddie.capitalizeWord(e),t}):((n=document.createElement("span")).classList.add("definition-list"),n.textContent=Worddie.capitalizeWord(t)),{titleEl:o,listElements:n}}}document.querySelector(".search__input").addEventListener("keyup",function(){const e=document.querySelector(".feather").cloneNode(!0);document.querySelector("button .feather-search").remove(),document.querySelector(".search__btn").append(e),document.querySelector(".search__btn").classList.add("search__btn-active"),document.querySelector(".search__icon").classList.add("search__icon-active"),(this.value.match(/[^A-z]+/)||0===this.value.trim().length)&&(document.querySelector(".search__btn").classList.remove("search__btn-active"),document.querySelector(".search__icon").classList.remove("search__icon-active"))}),window.onload=function(){window.speechSynthesis.getVoices()},document.querySelector(".pronounce").addEventListener("click",function(){const e=document.querySelector("#word").textContent;Worddie.pronounceWord(e)}),document.querySelector(".search__btn").addEventListener("click",function(e){e.preventDefault();const t=document.querySelector(".search__input").value;displayDefinition(t)}),document.querySelector("button.back").addEventListener("click",function(){document.querySelector(".definitions").style.position="fixed",document.querySelector(".definitions").classList.remove("open"),document.querySelector(".home").classList.remove("hide")});const deleteWords=document.querySelectorAll(".delete");Array.from(deleteWords).map(e=>{e.addEventListener("click",function(e){const t=this.parentElement;t.classList.add("deleted"),setTimeout(()=>{t.remove()},500)})});const recentWords=document.querySelectorAll(".recent__word>p");Array.from(recentWords).map(e=>{e.addEventListener("click",function(){const e=this.textContent;displayDefinition(e)})});const displayDefinition=e=>{const t=document.querySelector(".definitions");t.classList.add("open"),t.style.position="fixed",document.querySelector(".home").classList.add("hide"),setTimeout(()=>{window.scrollTo(0,0),document.querySelector(".definitions").style.position="absolute"},200),Array.from(document.querySelectorAll(".word__definition")).map(e=>e.remove()),Worddie.getDefinition(e)};navigator.serviceWorker.register("./sw.js").then(e=>{console.log("Service Worker installed successfully")});